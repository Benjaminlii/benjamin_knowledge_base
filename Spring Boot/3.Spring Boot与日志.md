# 第三章. Spring Boot与日志

-----

[toc]

-----

## 1. 日志框架的由来和选择

​		原本没有日志这种东西.在 开发中我们经常使用sout打印输关键数据出来进行验证.一贯的使用sout极大的污染了代码,并且更改起来及其麻烦.那么就产生了直接使用的日志组件.这种组件直接提供打印日志到文件的功能.随着技术的不断发展,日志出现了很多新的功能,如:异步日志,自动归档等等.在这些升级换代中,就需要不断的更改API,也给发开带来了困难.那么就出现了日志组件和业务代码之间的统一接口层.来隔离日志和业务代码,降低耦合.这才真正诞生了日志框架.

​		市面上的日志框架:JUL,JCL,Jboss-logging,log4j,log4j2,slf4j,Logback.......

| 统一接口层(也叫日志门面)        | 日志实现                                            |
| ------------------------------- | --------------------------------------------------- |
| ~~JCL~~(很久不更新)             | Log4j(适配SLF4J,没有LogBack先进)                    |
| ==SLF4J==                       | JUL(功能上弱势)                                     |
| ~~Jboss-logging~~(特定框架在用) | Log4j2(Apache出品,功能强大,但比较新,尚未适配的很好) |
|                                 | Logback(适配SLF4J)                                  |

​		spring默认使用的是JCL作为日志门面,spring boot则使用SLF4J和Logback

## 2. SLF4J的使用

​		在开发中,日志记录方法不应该直接调用日志实现,而应该调用日志门面,也就是SLF4J中的定义.但配置文件还是对日志实现进行配置.

### (1). 遗留问题

​		一个项目中应该是结合了多个框架来一起进行开发的,而各个框架底层也都进行了日志这部分的设计,并且它们可能依赖了不同的日志实现框架.

​		SLF4J的作用就是在使用上进行统一,面对不同的日志实现,向用户提供统一的接口.面向框架时,将框架中的jar包实现进行替换,方法名不变,但方法内部更改为调用SLF4J框架的接口,然后SLF4J再调用我们选定的日志实现框架进行日志的开发.

​		这些事情spring boot已经做好了,使用其他框架时,需要排除其原来的依赖.