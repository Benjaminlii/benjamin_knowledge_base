# 使用docker

[TOC]

---

```shell
# 安装docker略过

# 查看当前已拉取的image
docker image

# 在公共镜像仓库查询image，OFFICIAL表示是否是官方镜像
docker search {image_id}

# 查看现在正在运行的容器， -a包含未启动的容器
docker ps

# 启动一个容器，默认为前台启动
# -d: 后台启动
# -i:交互式运行
# -t:容器分配一个伪输入终端，通常-itd一起使用
# -p {宿主机端口}:{容器端口}: 暴露容器端口到宿主机端口供外部通信 
# --name : 为容器命名
docker run [option] {image_id:tag}

# 进入容器
docker exec -it {container_id} {sh_name}

# 启动/停止容器
docker start/stop {container_id}

# 删除已停止容器
docker rm {container_id}
docker rm `docker ps -aq` # 关闭所有已停止容器

# 查看镜像/容器详细信息
docker inspect {image_id/container_id}

# 给镜像创建软连接(同时改名), image_id可以替换image_name:tag
docker tag {old_image_name}:{tag} {old_image_name}:{tag}

# 删除镜像
docker rmi {image_id}

# 在宿主机和容器之间导入导出数据
docker cp {path} {container_id}:{path_in_container}
docker cp {container_id}:{path_in_container} {path}
```

