# 二.Linux的文件权限与目录设置

## 1.用户与用户组

同一个用户组的用户成员可以共享满足当前用户组权限的文件.

每个账号都可以有多个用户组的支持.

root用户拥有所有文件的权限.

## 2.Linux文件权限概念

### (1).Linux文件属性

![1565938167871](http://benjaminlee.cn:8989/hello/images/1565938167871.png)

文件类型权限 链接数 文件所有者 所属用户组 文件大小 上次修改时间 文件名

文件类型有十个字符:

-   第一个字符代表这个文件的类型,为目录(d),文件(-),链接(|),存储设备文件(b)和穿行端口设备(c)
-   后面的九位分为3x3,分别代表拥有者权限,所属用户组权限,其他权限
-   每三位为rwx,分别为读权限,写权限和可执行权限.

文件名前如果有 [ . ],那么这个文件是隐藏文件,使用ls命令展示文件列表是要附加选项 -a 才能展示.

Linux文件权限的重要性:

-   保护系统,系统中的一些文件不能随便暴露,否则密码等重要信息会被窃取.
-   团队开发软件或数据共享功能

### (2).如何修改文件的属性与权限

>   chgrp: 修改文件所属用户组
>
>   chown: 修改文件拥有者
>
>   chmod: 修改文件的权限

#### 1).修改所属用户组

>   chgrp  [选项].. 用户组名 文件名
>
>   选项与参数:
>
>   ​	-R:递归修改用户组

要修改的用户组名必须要在/etc/group文件中存在

#### 2).修改文件拥有者

>   chown [选项]... \[所有者\]\[:\[组\]\] 文件...
>
>   选项与参数:fuhao
>
>   ​	-R: 递归...

用户必须是已经存在于系统中的账号

省略所有者也可以用来修改所属用户组

#### 3).修改权限

**数字设置权限:**

>   chmod [选项]... 八进制模式 文件..

八进制模式: 将rwx分别换成421,再转换为八进制数字就可以代表一种用户的权限,那么三位八进制就可以全面的描述当前文件的权限.

775:可运行.sh文件的常用权限

740:同组可读权限

符号设置权限:

>   chmod u=rws,go-w 文件名

| 命令名 | 身份      | 动作         | 权限 | 文件名     |
| ------ | --------- | ------------ | ---- | ---------- |
| chmod  | u (user)  | + (添加权限) | r    | .......... |
|        | g (group) | - (移除权限) | w    |            |
|        | o (othor) | = (设置权限) | x    |            |
|        | a (all)   |              |      |            |

### (3).目录以文件的权限意义

#### 1).权限对文件的重要性

文件是否能够执行取决于文件的可执行权限,而在windows中这一任务由文件的后缀完成.

文件的删除权限并不在文件的权限管理中,文件的权限管理的都是文件的内容的权限,与文件的存在与否没有关系.也就是说,w权限只有写入,编辑,新增,修改内容的权限,并不能删除文件.

#### 2).权限对目录的重要性

r权限:表示具有读取目录结构列表的权限,可以查询该目录下的文件名数据.

w权限:表示拥有改动改目录结构的权限,包括新建文件或目录,删除已存在的文件与目录(不论权限是什么),对文件或目录进行更名,移动文件或目录的位置.

x权限:表示用户能进入该目录使之成为工作目录

## 3.Linux目录配置

### (1).FHS

FHS(filesystem hierarchy standard),是一套Linux目录配置的标准

FHS根据文件系统使用的频繁与否和是否允许用户随意更改讲目录定义成为四中交互作用的形态:

|        | 可分享                   | 不可分享               |
| ------ | ------------------------ | ---------------------- |
| 不可变 | /usr (软件)              | /etc (配置文件)        |
|        | /opt (第三方辅助软件)    | /boot (启动与内核文件) |
| 可变   | /var/mail (用户邮箱)     | /var/run (程序相关)    |
|        | /var/spool/news (新闻组) | /var/lock (程序相关)   |

-   可分享:可以分享给网络上其他系统挂载使用的目录,包括可执行文件与用户邮箱等数据,
-   不可分享:自己机器上面运行的设备文件或与程序有关的socket文件,仅限与自身机器有关.
-   不变:不经常变动的数据,例如函数库,文件说明,主机配置文件等
-   可变动;经常修改的数据,例如日志文件.

大意同以下配置:

-   / (root,根目录):以启动系统有关
-   /usr (Unix software resource):与软件安装和执行有关
-   /vat (vatiable): 系统运行过程有关

#### 1).根目录的意义与内容

